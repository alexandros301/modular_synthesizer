#N canvas 543 109 605 488 10;
#X obj 56 227 sel 0;
#X obj 56 288 del 20;
#X obj 56 358 0;
#X obj 56 63 change;
#N canvas 505 117 556 302 accumulate-connection-states 0;
#X obj 37 104 +;
#X obj 67 105 f;
#X obj 37 59 * 2;
#X obj 37 81 - 1;
#X obj 37 149 moses -1;
#X obj 90 171 > 0;
#X msg 37 171 0;
#X obj 37 193 t f f;
#X obj 90 210 outlet;
#X text 65 62 map 0 - 1 to (-1) - 1 so that a 1 will add one and a
0 will subtract one from the states accumulation;
#X obj 37 36 inlet switch_state;
#X obj 37 126 f;
#X connect 0 0 1 0;
#X connect 0 0 11 0;
#X connect 1 0 0 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 0 1;
#X connect 7 1 8 0;
#X connect 10 0 2 0;
#X connect 11 0 4 0;
#X restore 56 41 pd accumulate-connection-states;
#X obj 56 89 swap;
#X obj 56 111 pack;
#X obj 56 133 route 1 0;
#X obj 56 180 f;
#X obj 56 380 outlet;
#X text 85 167 when the patching update is deactivated \, store value
and output it when it is reactivated;
#X obj 311 72 inlet update;
#X obj 128 133 inlet reactivate;
#X obj 56 202 t f f f;
#X obj 88 250 spigot;
#X obj 56 334 spigot;
#X obj 95 312 == 0;
#X text 106 334 if a sequence of ones and zeros enter this abstraction
\, even if the last number is one \, [del] will output a zero 20 ms
after the last one \, thus causing [switch~] to turn the subpatch off.
using a [spigot] after [del] will prevent this;
#X obj 56 18 inlet;
#X connect 0 0 1 0;
#X connect 0 1 14 0;
#X connect 1 0 15 0;
#X connect 2 0 9 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 8 1;
#X connect 8 0 13 0;
#X connect 11 0 5 1;
#X connect 12 0 8 0;
#X connect 13 0 0 0;
#X connect 13 1 16 0;
#X connect 13 2 14 1;
#X connect 14 0 9 0;
#X connect 15 0 2 0;
#X connect 16 0 15 1;
#X connect 18 0 4 0;
