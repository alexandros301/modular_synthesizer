#N canvas 154 131 578 522 10;
#X obj 56 267 sel 0;
#X obj 56 328 del 20;
#X obj 56 398 0;
#X obj 56 61 change;
#N canvas 508 119 556 302 accumulate-connection-states 0;
#X obj 37 104 +;
#X obj 67 105 f;
#X obj 37 59 * 2;
#X obj 37 81 - 1;
#X obj 37 149 moses -1;
#X obj 90 171 > 0;
#X msg 37 171 0;
#X obj 37 193 t f f;
#X obj 90 210 outlet;
#X text 65 62 map 0 - 1 to (-1) - 1 so that a 1 will add one and a
0 will subtract one from the states accumulation;
#X obj 37 36 inlet switch_state;
#X obj 37 126 f;
#X connect 0 0 1 0;
#X connect 0 0 11 0;
#X connect 1 0 0 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 0 1;
#X connect 7 1 8 0;
#X connect 10 0 2 0;
#X connect 11 0 4 0;
#X restore 56 39 pd accumulate-connection-states;
#X text 119 17 inlet number;
#X obj 56 109 swap;
#X obj 56 131 pack;
#X obj 56 153 route 1 0;
#X obj 56 220 f;
#X obj 56 420 outlet;
#X text 85 207 when the patching update is deactivated \, store value
and output it when it is reactivated;
#X obj 56 16 r node\$1;
#X obj 81 83 inlet update;
#X obj 14 176 inlet reactivate;
#X obj 56 242 t f f f;
#X obj 88 290 spigot;
#X obj 56 374 spigot;
#X obj 95 352 == 0;
#X text 106 374 if a sequence of ones and zeros enter this abstraction
\, even if the last number is one \, [del] will output a zero 20 ms
after the last one \, thus causing [switch~] to turn the subpatch off.
using a [spigot] after [del] will prevent this;
#X connect 0 0 1 0;
#X connect 0 1 16 0;
#X connect 1 0 17 0;
#X connect 2 0 10 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 15 0;
#X connect 12 0 4 0;
#X connect 13 0 6 1;
#X connect 14 0 9 0;
#X connect 15 0 0 0;
#X connect 15 1 18 0;
#X connect 15 2 16 1;
#X connect 16 0 10 0;
#X connect 17 0 2 0;
#X connect 18 0 17 1;
