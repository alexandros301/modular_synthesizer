#N canvas 384 205 468 418 10;
#X declare -path ../generic_abstractions;
#X obj 17 259 *~;
#X obj 17 303 +~;
#X obj 99 221 pack f 20;
#X obj 99 243 line~;
#X obj 201 265 pack f 20;
#X obj 201 287 line~;
#X obj 17 131 powSine~;
#N canvas 580 256 676 360 pow 0;
#X obj 97 175 *~;
#X obj 254 182 pack f 20;
#X obj 254 204 line~;
#X obj 19 277 outlet~;
#X obj 19 69 pack f 20;
#X obj 19 91 line~;
#X obj 38 160 *~ -1;
#X obj 38 182 +~ 1;
#X obj 19 207 *~;
#X obj 97 220 *~;
#X obj 97 197 +~ 0.5;
#X text 123 226 if a signal is connected to this control input \, the
respective knob becomes the index of the signal \, with the control
signal centered at 0.5;
#X obj 115 153 r~;
#X obj 19 47 inlet;
#X obj 328 136 r patchUpdate;
#X obj 291 115 r reactivate;
#X obj 115 131 r \$0-3rd_input;
#X obj 254 158 inlet_state;
#X obj 254 91 r \$0-3rd_inlet;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 2 0 9 1;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 5 0 0 0;
#X connect 6 0 7 0;
#X connect 7 0 8 1;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 10 0 9 0;
#X connect 12 0 0 1;
#X connect 13 0 4 0;
#X connect 14 0 17 2;
#X connect 15 0 17 1;
#X connect 16 0 12 0;
#X connect 17 0 1 0;
#X connect 18 0 17 0;
#X restore 161 87 pd pow;
#X obj 255 185 switch~;
#X obj 17 10 declare -path ../generic_abstractions;
#X obj 255 139 r \$0-1st_outlet;
#X obj 17 375 throw~;
#X obj 27 348 route 0;
#X obj 99 130 r switches;
#X obj 99 152 route \$1;
#N canvas 624 124 511 460 scale-offset 0;
#X obj 36 61 change;
#X obj 36 273 + 1;
#X obj 36 297 swap 1;
#X obj 36 319 /;
#X obj 36 341 t f f;
#X obj 54 222 loadbang;
#X msg 54 244 0;
#X obj 186 385 outlet;
#X obj 218 364 outlet;
#X obj 36 86 swap;
#X obj 36 108 pack;
#X obj 36 130 route 1 0;
#X obj 36 197 f;
#X text 65 184 when the patching update is deactivated \, store value
and output it when it is reactivated;
#X obj 221 69 r patchUpdate;
#X obj 109 130 r reactivate;
#X obj 36 39 inlet;
#X obj 153 258 sel 0 1;
#X obj 153 290 t b b;
#X msg 153 312 1000;
#X msg 190 312 1100;
#X obj 228 290 t b b;
#X msg 228 312 0.5;
#X msg 265 312 0.5;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 12 0 1 0;
#X connect 12 0 17 0;
#X connect 14 0 9 1;
#X connect 15 0 12 0;
#X connect 16 0 0 0;
#X connect 17 0 18 0;
#X connect 17 1 21 0;
#X connect 18 0 19 0;
#X connect 18 1 20 0;
#X connect 19 0 7 0;
#X connect 20 0 8 0;
#X connect 21 0 22 0;
#X connect 21 1 23 0;
#X connect 22 0 7 0;
#X connect 23 0 8 0;
#X restore 99 197 pd scale-offset;
#N canvas 37 158 653 330 freq 0;
#X obj 51 229 *~;
#X obj 209 191 pack f 20;
#X obj 209 213 line~;
#X obj 32 260 outlet~;
#X obj 32 36 pack f 15;
#X obj 32 58 line~;
#X obj 283 144 r patchUpdate;
#X obj 246 122 r reactivate;
#X obj 32 130 *~;
#X obj 50 108 +~ 1;
#X obj 50 86 *~ -1;
#X text 207 233 if a signal is connected to the frequency inlet \,
that signal will control the frequency of this oscillator;
#X obj 32 14 inlet;
#X obj 51 205 r~;
#X obj 51 182 r \$0-1st_input;
#X obj 209 99 r \$0-1st_inlet;
#X obj 209 166 inlet_state;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 2 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 16 2;
#X connect 7 0 16 1;
#X connect 8 0 3 0;
#X connect 9 0 8 1;
#X connect 10 0 9 0;
#X connect 12 0 4 0;
#X connect 13 0 0 0;
#X connect 14 0 13 0;
#X connect 15 0 16 0;
#X connect 16 0 1 0;
#X restore 17 87 pd freq;
#N canvas 235 233 392 380 phase 0;
#X obj 161 47 pack f 20;
#X obj 161 69 line~;
#X obj 47 85 *~;
#X obj 47 269 *~;
#X obj 101 231 pack f 20;
#X obj 101 253 line~;
#X obj 47 291 outlet~;
#X obj 175 188 r patchUpdate;
#X obj 138 167 r reactivate;
#X obj 161 27 inlet;
#X obj 47 62 r~;
#X obj 47 39 r \$0-2nd_input;
#X obj 101 143 r \$0-2nd_inlet;
#X obj 101 210 inlet_state;
#X connect 0 0 1 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 7 0 13 2;
#X connect 8 0 13 1;
#X connect 9 0 0 0;
#X connect 10 0 2 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 13 0 4 0;
#X restore 89 87 pd phase;
#N canvas 402 110 718 479 set_inputs_and_connection_states 0;
#X obj 27 168 s \$0-1st_input;
#X obj 51 148 s \$0-2nd_input;
#X obj 76 128 s \$0-3rd_input;
#X obj 27 246 r inlet_states;
#X obj 27 268 unpack;
#X obj 27 312 pack;
#X obj 27 397 s \$0-1st_inlet;
#X obj 51 377 s \$0-2nd_inlet;
#X obj 76 357 s \$0-3rd_inlet;
#X text 28 39 this sets the correct names to each [r~ ];
#X text 26 215 this sets the connection state of the modules inlets
(the matrix's outlets);
#X obj 272 331 unpack;
#X obj 272 375 pack;
#X obj 272 419 s \$0-1st_outlet;
#X text 271 278 this sets the connection state of the modules outlets
(the matrix's inlets);
#X obj 272 309 r outlet_states;
#X obj 27 105 route 0 1 2;
#X obj 27 290 - \$3;
#X obj 272 353 - \$5;
#X obj 272 397 route 1;
#X obj 27 334 route 1 2 3;
#X obj 27 82 set_inputs \$2 \$3;
#X obj 27 59 loadbang;
#X connect 3 0 4 0;
#X connect 4 0 17 0;
#X connect 4 1 5 1;
#X connect 5 0 20 0;
#X connect 11 0 18 0;
#X connect 11 1 12 1;
#X connect 12 0 19 0;
#X connect 15 0 11 0;
#X connect 16 0 0 0;
#X connect 16 1 1 0;
#X connect 16 2 2 0;
#X connect 17 0 5 0;
#X connect 18 0 12 0;
#X connect 19 0 13 0;
#X connect 20 0 6 0;
#X connect 20 1 7 0;
#X connect 20 2 8 0;
#X connect 21 0 16 0;
#X connect 22 0 21 0;
#X restore 17 33 pd set_inputs_and_connection_states;
#X obj 99 174 route 1;
#N canvas 405 51 306 497 assemble_and_scale 0;
#X obj 35 143 +;
#X obj 56 121 * 128;
#X obj 121 143 +;
#X obj 142 121 * 128;
#X obj 164 95 +;
#X obj 186 73 * 128;
#X obj 35 436 outlet;
#X obj 121 255 / 8191;
#X obj 121 277 * 2;
#X obj 121 299 outlet;
#X obj 164 158 / 8191;
#X obj 164 180 pow 4;
#X obj 164 202 * 100;
#X obj 164 224 outlet;
#X obj 35 41 unpack f f f f f f f f;
#X obj 78 326 debounce_float 10;
#X obj 78 96 +;
#X obj 99 73 * 128;
#X obj 78 348 + 1;
#X obj 35 365 /;
#X obj 35 18 r module\$1;
#X obj 35 388 t f f;
#N canvas 87 67 537 526 \$0-other_values 0;
#X obj 98 24 r to_mtx_mul;
#X obj 98 46 list split 1;
#X obj 138 104 unpack f f f;
#X obj 178 149 == \$5;
#X obj 138 225 spigot;
#X msg 138 247 \$1-incoming_freq;
#X obj 138 269 symbol;
#X obj 44 286 s;
#X obj 138 68 t l l;
#X obj 328 85 unpack f f f;
#X obj 368 131 == \$5;
#X obj 328 272 symbol;
#X obj 276 289 s;
#X msg 328 250 \$1-incoming_amp_freq;
#X obj 41 442 \$3;
#X obj 41 420 r \$1-get_inlet;
#X obj 44 153 inlet;
#X obj 44 175 t f f;
#N canvas 556 149 595 399 check-inlet-num 0;
#X obj 59 50 loadbang;
#X obj 59 94 v num_of_modules;
#X obj 41 117 f;
#X obj 66 162 tabread all_inlets_tab;
#X obj 66 295 f;
#X obj 41 26 t b f;
#X obj 41 3 inlet;
#X obj 66 250 sel 1;
#X obj 66 272 t b b;
#X obj 66 317 outlet;
#X text 94 225 find which module this inlet belongs to;
#X text 93 288 and use the number of that module's first inlet \, because
[receive] is not flexible enough in naming it;
#X obj 66 206 f;
#X obj 66 184 t b f f;
#X obj 66 228 >=;
#X obj 41 139 loop;
#X obj 59 72 del 100;
#X connect 0 0 16 0;
#X connect 1 0 2 1;
#X connect 2 0 15 0;
#X connect 3 0 13 0;
#X connect 4 0 9 0;
#X connect 5 0 2 0;
#X connect 5 1 12 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 8 1 15 3;
#X connect 12 0 14 0;
#X connect 13 0 12 0;
#X connect 13 1 14 1;
#X connect 13 2 4 1;
#X connect 14 0 7 0;
#X connect 15 1 3 0;
#X connect 16 0 1 0;
#X restore 328 225 pd check-inlet-num;
#X obj 41 464 s give_inlet;
#X text 40 374 store the first inlet number to a global table to use
it in the [pd check-inlet-num] subpatch (explanation in the subpatch)
;
#X obj 138 126 - 1;
#X obj 368 107 - 1;
#X obj 178 172 &&;
#X obj 178 126 - 1;
#X obj 368 153 &&;
#X obj 328 107 - 1;
#X obj 328 201 spigot;
#X text 39 322 send this oscillator's frequency to any oscillator module
it gives input to. this is used for the additive synthesis feature
;
#X obj 276 192 spigot;
#X obj 368 175 t f f;
#X obj 178 194 t f f;
#X obj 44 211 spigot;
#X connect 0 0 1 0;
#X connect 1 1 8 0;
#X connect 2 0 21 0;
#X connect 2 1 24 0;
#X connect 2 2 23 1;
#X connect 3 0 23 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 8 0 2 0;
#X connect 8 1 9 0;
#X connect 9 0 26 0;
#X connect 9 1 22 0;
#X connect 9 2 25 1;
#X connect 10 0 25 0;
#X connect 11 0 12 1;
#X connect 13 0 11 0;
#X connect 14 0 19 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 17 0 32 0;
#X connect 17 1 29 0;
#X connect 18 0 13 0;
#X connect 21 0 4 0;
#X connect 22 0 10 0;
#X connect 23 0 31 0;
#X connect 24 0 3 0;
#X connect 25 0 30 0;
#X connect 26 0 27 0;
#X connect 27 0 18 0;
#X connect 29 0 12 0;
#X connect 30 0 29 1;
#X connect 30 1 27 1;
#X connect 31 0 32 1;
#X connect 31 1 4 1;
#X connect 32 0 7 0;
#X restore 67 411 pd \$0-other_values;
#X connect 0 0 19 0;
#X connect 1 0 0 1;
#X connect 2 0 7 0;
#X connect 3 0 2 1;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 14 0 0 0;
#X connect 14 1 1 0;
#X connect 14 2 16 0;
#X connect 14 3 17 0;
#X connect 14 4 2 0;
#X connect 14 5 3 0;
#X connect 14 6 4 0;
#X connect 14 7 5 0;
#X connect 15 0 18 0;
#X connect 16 0 15 0;
#X connect 17 0 16 1;
#X connect 18 0 19 1;
#X connect 19 0 21 0;
#X connect 20 0 14 0;
#X connect 21 0 6 0;
#X connect 21 1 22 0;
#X restore 17 58 pd assemble_and_scale;
#X obj 27 326 set_outputs \$4 \$5;
#X obj 255 163 switch_state;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 4 0 5 0;
#X connect 5 0 1 1;
#X connect 6 0 0 0;
#X connect 7 0 6 2;
#X connect 10 0 22 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 14 0 19 0;
#X connect 15 0 2 0;
#X connect 15 1 4 0;
#X connect 16 0 6 0;
#X connect 17 0 6 1;
#X connect 19 0 15 0;
#X connect 20 0 16 0;
#X connect 20 1 17 0;
#X connect 20 2 7 0;
#X connect 21 0 12 0;
#X connect 22 0 8 0;
